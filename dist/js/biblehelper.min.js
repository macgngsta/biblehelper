
/*! Bible Helper v1.0.29 | (c) 2014-2016 Greg Tam  */
function isNotNullOrEmpty(a){if("undefined"!=typeof a&&null!==a&&void 0!==a&&""!==a){if(Object.size(a)>0)return!0;if(a.length>0)return!0}return!1}function jsonPretty(a){if(isNotNullOrEmpty(a))try{return JSON.stringify(a,null,4)}catch(b){log("jsonPretty: exception parsing obj "+b)}return log("jsonPretty: invalid obj"),""}function toTheTop(){window.scrollTo(0,0)}function extractKey(a,b){if(log("extracting: "+a),isNotNullOrEmpty(a)){var c=a.split("-");return b?(log("extracted: "+c[b]),c[b]):(log("extracted: "+c[1]),c[1])}return""}function removeFromList(a,b){if(isNotNullOrEmpty(a))for(var c=a.length;c--;)a[c]===b&&a.splice(c,1);return a}function expandToList(a,b,c){var d=[],e=",",f="",g=!1;if(isNotNullOrEmpty(b)&&(e=b),isNotNullOrEmpty(c)&&(f=c),isNotNullOrEmpty(a)){var h;try{h=JSON.parse(a)}catch(i){log("not JSON parsable"),h=a}if(h instanceof Array?log("already an array"):h=a.split(e),1===h.length){if(h[0]===f)return"";d.push(h[0]),g=!0}else if(h.length>1)for(var j=0;j<h.length;j++){var k=h[j];isNotNullOrEmpty(k)&&(d.push(k),g=!0)}else log("error condition")}return g?d:""}function compressToDelimited(a,b){var c="",d=",";if(isNotNullOrEmpty(b)||(d=b),isNotNullOrEmpty(a)){var e=!0;for(var f in a)if(!isNaN(f)){var g=a[f];isNotNullOrEmpty(g)&&(e?e=!1:c="".concat(c,d),c="".concat(c,g))}}return c}function cleanText(a){var b="";return isNotNullOrEmpty(a)&&(b=a),b}!function(a){function b(){return""===i.hash||"#"===i.hash}function c(a,b){for(var c=0;c<a.length;c+=1)if(b(a[c],c,a)===!1)return}function d(a){for(var b=[],c=0,d=a.length;d>c;c++)b=b.concat(a[c]);return b}function e(a,b,c){if(!a.length)return c();var d=0;!function e(){b(a[d],function(b){b||b===!1?(c(b),c=function(){}):(d+=1,d===a.length?c():e())})}()}function f(a,b,c){c=a;for(var d in b)if(b.hasOwnProperty(d)&&(c=b[d](a),c!==a))break;return c===a?"([._a-zA-Z0-9-%()]+)":c}function g(a,b){for(var c,d=0,e="";c=a.substr(d).match(/[^\w\d\- %@&]*\*[^\w\d\- %@&]*/);)d=c.index+c[0].length,c[0]=c[0].replace(/^\*/,"([_.()!\\ %@&a-zA-Z0-9-]+)"),e+=a.substr(0,c.index)+c[0];a=e+=a.substr(d);var g,h,i=a.match(/:([^\/]+)/gi);if(i){h=i.length;for(var j=0;h>j;j++)g=i[j],a="::"===g.slice(0,2)?g.slice(1):a.replace(g,f(g,b))}return a}function h(a,b,c,d){var e,f=0,g=0,h=0,c=(c||"(").toString(),d=(d||")").toString();for(e=0;e<a.length;e++){var i=a[e];if(i.indexOf(c,f)>i.indexOf(d,f)||~i.indexOf(c,f)&&!~i.indexOf(d,f)||!~i.indexOf(c,f)&&~i.indexOf(d,f)){if(g=i.indexOf(c,f),h=i.indexOf(d,f),~g&&!~h||!~g&&~h){var j=a.slice(0,(e||1)+1).join(b);a=[j].concat(a.slice((e||1)+1))}f=(h>g?h:g)+1,e=0}else f=0}return a}var i=document.location,j={mode:"modern",hash:i.hash,history:!1,check:function(){var a=i.hash;a!=this.hash&&(this.hash=a,this.onHashChanged())},fire:function(){"modern"===this.mode?this.history===!0?window.onpopstate():window.onhashchange():this.onHashChanged()},init:function(a,b){function c(a){for(var b=0,c=k.listeners.length;c>b;b++)k.listeners[b](a)}var d=this;if(this.history=b,k.listeners||(k.listeners=[]),"onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7))this.history===!0?setTimeout(function(){window.onpopstate=c},500):window.onhashchange=c,this.mode="modern";else{var e=document.createElement("iframe");e.id="state-frame",e.style.display="none",document.body.appendChild(e),this.writeFrame(""),"onpropertychange"in document&&"attachEvent"in document&&document.attachEvent("onpropertychange",function(){"location"===event.propertyName&&d.check()}),window.setInterval(function(){d.check()},50),this.onHashChanged=c,this.mode="legacy"}return k.listeners.push(a),this.mode},destroy:function(a){if(k&&k.listeners)for(var b=k.listeners,c=b.length-1;c>=0;c--)b[c]===a&&b.splice(c,1)},setHash:function(a){return"legacy"===this.mode&&this.writeFrame(a),this.history===!0?(window.history.pushState({},document.title,a),this.fire()):i.hash="/"===a[0]?a:"/"+a,this},writeFrame:function(a){var b=document.getElementById("state-frame"),c=b.contentDocument||b.contentWindow.document;c.open(),c.write("<script>_hash = '"+a+"'; onload = parent.listener.syncHash;<script>"),c.close()},syncHash:function(){var a=this._hash;return a!=i.hash&&(i.hash=a),this},onHashChanged:function(){}},k=a.Router=function(a){return this instanceof k?(this.params={},this.routes={},this.methods=["on","once","after","before"],this.scope=[],this._methods={},this._insert=this.insert,this.insert=this.insertEx,this.historySupport=null!=(null!=window.history?window.history.pushState:null),this.configure(),void this.mount(a||{})):new k(a)};k.prototype.init=function(a){var c,d=this;return this.handler=function(a){var b=a&&a.newURL||window.location.hash,c=d.history===!0?d.getPath():b.replace(/.*#/,"");d.dispatch("on","/"===c.charAt(0)?c:"/"+c)},j.init(this.handler,this.history),this.history===!1?b()&&a?i.hash=a:b()||d.dispatch("on","/"+i.hash.replace(/^(#\/|#|\/)/,"")):(this.convert_hash_in_init?(c=b()&&a?a:b()?null:i.hash.replace(/^#/,""),c&&window.history.replaceState({},document.title,c)):c=this.getPath(),(c||this.run_in_init===!0)&&this.handler()),this},k.prototype.explode=function(){var a=this.history===!0?this.getPath():i.hash;return"/"===a.charAt(1)&&(a=a.slice(1)),a.slice(1,a.length).split("/")},k.prototype.setRoute=function(a,b,c){var d=this.explode();return"number"==typeof a&&"string"==typeof b?d[a]=b:"string"==typeof c?d.splice(a,b,s):d=[a],j.setHash(d.join("/")),d},k.prototype.insertEx=function(a,b,c,d){return"once"===a&&(a="on",c=function(a){var b=!1;return function(){return b?void 0:(b=!0,a.apply(this,arguments))}}(c)),this._insert(a,b,c,d)},k.prototype.getRoute=function(a){var b=a;if("number"==typeof a)b=this.explode()[a];else if("string"==typeof a){var c=this.explode();b=c.indexOf(a)}else b=this.explode();return b},k.prototype.destroy=function(){return j.destroy(this.handler),this},k.prototype.getPath=function(){var a=window.location.pathname;return"/"!==a.substr(0,1)&&(a="/"+a),a};var l=/\?.*/;k.prototype.configure=function(a){a=a||{};for(var b=0;b<this.methods.length;b++)this._methods[this.methods[b]]=!0;return this.recurse="undefined"==typeof a.recurse?this.recurse||!1:a.recurse,this.async=a.async||!1,this.delimiter=a.delimiter||"/",this.strict="undefined"==typeof a.strict?!0:a.strict,this.notfound=a.notfound,this.resource=a.resource,this.history=a.html5history&&this.historySupport||!1,this.run_in_init=this.history===!0&&a.run_handler_in_init!==!1,this.convert_hash_in_init=this.history===!0&&a.convert_hash_in_init!==!1,this.every={after:a.after||null,before:a.before||null,on:a.on||null},this},k.prototype.param=function(a,b){":"!==a[0]&&(a=":"+a);var c=new RegExp(a,"g");return this.params[a]=function(a){return a.replace(c,b.source||b)},this},k.prototype.on=k.prototype.route=function(a,b,c){var d=this;return c||"function"!=typeof b||(c=b,b=a,a="on"),Array.isArray(b)?b.forEach(function(b){d.on(a,b,c)}):(b.source&&(b=b.source.replace(/\\\//gi,"/")),Array.isArray(a)?a.forEach(function(a){d.on(a.toLowerCase(),b,c)}):(b=b.split(new RegExp(this.delimiter)),b=h(b,this.delimiter),void this.insert(a,this.scope.concat(b),c)))},k.prototype.path=function(a,b){var c=this.scope.length;a.source&&(a=a.source.replace(/\\\//gi,"/")),a=a.split(new RegExp(this.delimiter)),a=h(a,this.delimiter),this.scope=this.scope.concat(a),b.call(this,this),this.scope.splice(c,a.length)},k.prototype.dispatch=function(a,b,c){function d(){f.last=g.after,f.invoke(f.runlist(g),f,c)}var e,f=this,g=this.traverse(a,b.replace(l,""),this.routes,""),h=this._invoked;return this._invoked=!0,g&&0!==g.length?("forward"===this.recurse&&(g=g.reverse()),e=this.every&&this.every.after?[this.every.after].concat(this.last):[this.last],e&&e.length>0&&h?(this.async?this.invoke(e,this,d):(this.invoke(e,this),d()),!0):(d(),!0)):(this.last=[],"function"==typeof this.notfound&&this.invoke([this.notfound],{method:a,path:b},c),!1)},k.prototype.invoke=function(a,b,d){var f,g=this;this.async?(f=function(c,d){return Array.isArray(c)?e(c,f,d):void("function"==typeof c&&c.apply(b,(a.captures||[]).concat(d)))},e(a,f,function(){d&&d.apply(b,arguments)})):(f=function(d){return Array.isArray(d)?c(d,f):"function"==typeof d?d.apply(b,a.captures||[]):void("string"==typeof d&&g.resource&&g.resource[d].apply(b,a.captures||[]))},c(a,f))},k.prototype.traverse=function(a,b,c,d,e){function f(a){function b(a){for(var c=[],d=0;d<a.length;d++)c[d]=Array.isArray(a[d])?b(a[d]):a[d];return c}function c(a){for(var b=a.length-1;b>=0;b--)Array.isArray(a[b])?(c(a[b]),0===a[b].length&&a.splice(b,1)):e(a[b])||a.splice(b,1)}if(!e)return a;var d=b(a);return d.matched=a.matched,d.captures=a.captures,d.after=a.after.filter(e),c(d),d}var g,h,i,j,k=[];if(b===this.delimiter&&c[a])return j=[[c.before,c[a]].filter(Boolean)],j.after=[c.after].filter(Boolean),j.matched=!0,j.captures=[],f(j);for(var l in c)if(c.hasOwnProperty(l)&&(!this._methods[l]||this._methods[l]&&"object"==typeof c[l]&&!Array.isArray(c[l]))){if(g=h=d+this.delimiter+l,this.strict||(h+="["+this.delimiter+"]?"),i=b.match(new RegExp("^"+h)),!i)continue;if(i[0]&&i[0]==b&&c[l][a])return j=[[c[l].before,c[l][a]].filter(Boolean)],j.after=[c[l].after].filter(Boolean),j.matched=!0,j.captures=i.slice(1),this.recurse&&c===this.routes&&(j.push([c.before,c.on].filter(Boolean)),j.after=j.after.concat([c.after].filter(Boolean))),f(j);if(j=this.traverse(a,b,c[l],g),j.matched)return j.length>0&&(k=k.concat(j)),this.recurse&&(k.push([c[l].before,c[l][a]].filter(Boolean)),j.after=j.after.concat([c[l].after].filter(Boolean)),c===this.routes&&(k.push([c.before,c.on].filter(Boolean)),j.after=j.after.concat([c.after].filter(Boolean)))),k.matched=!0,k.captures=j.captures,k.after=j.after,f(k)}return!1},k.prototype.insert=function(a,b,c,d){var e,f,h,i,j;if(b=b.filter(function(a){return a&&a.length>0}),d=d||this.routes,j=b.shift(),/\:|\*/.test(j)&&!/\\d|\\w/.test(j)&&(j=g(j,this.params)),b.length>0)return d[j]=d[j]||{},this.insert(a,b,c,d[j]);if(j||b.length||d!==this.routes){if(f=typeof d[j],h=Array.isArray(d[j]),d[j]&&!h&&"object"==f)switch(e=typeof d[j][a]){case"function":return void(d[j][a]=[d[j][a],c]);case"object":return void d[j][a].push(c);case"undefined":return void(d[j][a]=c)}else if("undefined"==f)return i={},i[a]=c,void(d[j]=i);throw new Error("Invalid route context: "+f)}switch(e=typeof d[a]){case"function":return void(d[a]=[d[a],c]);case"object":return void d[a].push(c);case"undefined":return void(d[a]=c)}},k.prototype.extend=function(a){function b(a){d._methods[a]=!0,d[a]=function(){var b=1===arguments.length?[a,""]:[a];d.on.apply(d,b.concat(Array.prototype.slice.call(arguments)))}}var c,d=this,e=a.length;for(c=0;e>c;c++)b(a[c])},k.prototype.runlist=function(a){var b=this.every&&this.every.before?[this.every.before].concat(d(a)):d(a);return this.every&&this.every.on&&b.push(this.every.on),b.captures=a.captures,b.source=a.source,b},k.prototype.mount=function(a,b){function c(b,c){var e=b,f=b.split(d.delimiter),g=typeof a[b],i=""===f[0]||!d._methods[f[0]],j=i?"on":e;return i&&(e=e.slice((e.match(new RegExp("^"+d.delimiter))||[""])[0].length),f.shift()),i&&"object"===g&&!Array.isArray(a[b])?(c=c.concat(f),void d.mount(a[b],c)):(i&&(c=c.concat(e.split(d.delimiter)),c=h(c,d.delimiter)),void d.insert(j,c,a[b]))}if(a&&"object"==typeof a&&!Array.isArray(a)){var d=this;b=b||[],Array.isArray(b)||(b=b.split(d.delimiter));for(var e in a)a.hasOwnProperty(e)&&c(e,b.slice(0))}}}("object"==typeof exports?exports:window),function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W=[].slice,X={}.hasOwnProperty,Y=function(a,b){function c(){this.constructor=a}for(var d in b)X.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},Z=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};for(t={catchupTime:500,initialRate:.03,minTime:500,ghostTime:500,maxProgressPerFrame:10,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:!1,target:"body",elements:!1,eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},B=function(){var a;return null!=(a="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?a:+new Date},D=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,s=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==D&&(D=function(a){return setTimeout(a,50)},s=function(a){return clearTimeout(a)}),F=function(a){var b,c;return b=B(),(c=function(){var d;return d=B()-b,d>=33?(b=B(),a(d,function(){return D(c)})):setTimeout(c,33-d)})()},E=function(){var a,b,c;return c=arguments[0],b=arguments[1],a=3<=arguments.length?W.call(arguments,2):[],"function"==typeof c[b]?c[b].apply(c,a):c[b]},u=function(){var a,b,c,d,e,f,g;for(b=arguments[0],d=2<=arguments.length?W.call(arguments,1):[],f=0,g=d.length;g>f;f++)if(c=d[f])for(a in c)X.call(c,a)&&(e=c[a],null!=b[a]&&"object"==typeof b[a]&&null!=e&&"object"==typeof e?u(b[a],e):b[a]=e);return b},p=function(a){var b,c,d,e,f;for(c=b=0,e=0,f=a.length;f>e;e++)d=a[e],c+=Math.abs(d),b++;return c/b},w=function(a,b){var c,d,e;if(null==a&&(a="options"),null==b&&(b=!0),e=document.querySelector("[data-pace-"+a+"]")){if(c=e.getAttribute("data-pace-"+a),!b)return c;try{return JSON.parse(c)}catch(f){return d=f,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",d):void 0}}},g=function(){function a(){}return a.prototype.on=function(a,b,c,d){var e;return null==d&&(d=!1),null==this.bindings&&(this.bindings={}),null==(e=this.bindings)[a]&&(e[a]=[]),this.bindings[a].push({handler:b,ctx:c,once:d})},a.prototype.once=function(a,b,c){return this.on(a,b,c,!0)},a.prototype.off=function(a,b){var c,d,e;if(null!=(null!=(d=this.bindings)?d[a]:void 0)){if(null==b)return delete this.bindings[a];for(c=0,e=[];c<this.bindings[a].length;)this.bindings[a][c].handler===b?e.push(this.bindings[a].splice(c,1)):e.push(c++);return e}},a.prototype.trigger=function(){var a,b,c,d,e,f,g,h,i;if(c=arguments[0],a=2<=arguments.length?W.call(arguments,1):[],null!=(g=this.bindings)?g[c]:void 0){for(e=0,i=[];e<this.bindings[c].length;)h=this.bindings[c][e],d=h.handler,b=h.ctx,f=h.once,d.apply(null!=b?b:this,a),f?i.push(this.bindings[c].splice(e,1)):i.push(e++);return i}},a}(),null==window.Pace&&(window.Pace={}),u(Pace,g.prototype),C=Pace.options=u({},t,window.paceOptions,w()),T=["ajax","document","eventLag","elements"],P=0,R=T.length;R>P;P++)J=T[P],C[J]===!0&&(C[J]=t[J]);i=function(a){function b(){return U=b.__super__.constructor.apply(this,arguments)}return Y(b,a),b}(Error),b=function(){function a(){this.progress=0}return a.prototype.getElement=function(){var a;if(null==this.el){if(a=document.querySelector(C.target),!a)throw new i;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=a.firstChild?a.insertBefore(this.el,a.firstChild):a.appendChild(this.el)}return this.el},a.prototype.finish=function(){var a;return a=this.getElement(),a.className=a.className.replace("pace-active",""),a.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},a.prototype.update=function(a){return this.progress=a,this.render()},a.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(a){i=a}return this.el=void 0},a.prototype.render=function(){var a,b;return null==document.querySelector(C.target)?!1:(a=this.getElement(),a.children[0].style.width=""+this.progress+"%",(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(a.children[0].setAttribute("data-progress-text",""+(0|this.progress)+"%"),this.progress>=100?b="99":(b=this.progress<10?"0":"",b+=0|this.progress),a.children[0].setAttribute("data-progress",""+b)),this.lastRenderedProgress=this.progress)},a.prototype.done=function(){return this.progress>=100},a}(),h=function(){function a(){this.bindings={}}return a.prototype.trigger=function(a,b){var c,d,e,f,g;if(null!=this.bindings[a]){for(f=this.bindings[a],g=[],d=0,e=f.length;e>d;d++)c=f[d],g.push(c.call(this,b));return g}},a.prototype.on=function(a,b){var c;return null==(c=this.bindings)[a]&&(c[a]=[]),this.bindings[a].push(b)},a}(),O=window.XMLHttpRequest,N=window.XDomainRequest,M=window.WebSocket,v=function(a,b){var c,d,e,f;f=[];for(d in b.prototype)try{e=b.prototype[d],null==a[d]&&"function"!=typeof e?f.push(a[d]=e):f.push(void 0)}catch(g){c=g}return f},z=[],Pace.ignore=function(){var a,b,c;return b=arguments[0],a=2<=arguments.length?W.call(arguments,1):[],z.unshift("ignore"),c=b.apply(null,a),z.shift(),c},Pace.track=function(){var a,b,c;return b=arguments[0],a=2<=arguments.length?W.call(arguments,1):[],z.unshift("track"),c=b.apply(null,a),z.shift(),c},I=function(a){var b;if(null==a&&(a="GET"),"track"===z[0])return"force";if(!z.length&&C.ajax){if("socket"===a&&C.ajax.trackWebSockets)return!0;if(b=a.toUpperCase(),Z.call(C.ajax.trackMethods,b)>=0)return!0}return!1},j=function(a){function b(){var a,c=this;b.__super__.constructor.apply(this,arguments),a=function(a){var b;return b=a.open,a.open=function(d,e,f){return I(d)&&c.trigger("request",{type:d,url:e,request:a}),b.apply(a,arguments)}},window.XMLHttpRequest=function(b){var c;return c=new O(b),a(c),c},v(window.XMLHttpRequest,O),null!=N&&(window.XDomainRequest=function(){var b;return b=new N,a(b),b},v(window.XDomainRequest,N)),null!=M&&C.ajax.trackWebSockets&&(window.WebSocket=function(a,b){var d;return d=null!=b?new M(a,b):new M(a),I("socket")&&c.trigger("request",{type:"socket",url:a,protocols:b,request:d}),d},v(window.WebSocket,M))}return Y(b,a),b}(h),Q=null,x=function(){return null==Q&&(Q=new j),Q},H=function(a){var b,c,d,e;for(e=C.ajax.ignoreURLs,c=0,d=e.length;d>c;c++)if(b=e[c],"string"==typeof b){if(-1!==a.indexOf(b))return!0}else if(b.test(a))return!0;return!1},x().on("request",function(b){var c,d,e,f,g;return f=b.type,e=b.request,g=b.url,H(g)?void 0:Pace.running||C.restartOnRequestAfter===!1&&"force"!==I(f)?void 0:(d=arguments,c=C.restartOnRequestAfter||0,"boolean"==typeof c&&(c=0),setTimeout(function(){var b,c,g,h,i,j;if(b="socket"===f?e.readyState<2:0<(h=e.readyState)&&4>h){for(Pace.restart(),i=Pace.sources,j=[],c=0,g=i.length;g>c;c++){if(J=i[c],J instanceof a){J.watch.apply(J,d);break}j.push(void 0)}return j}},c))}),a=function(){function a(){var a=this;this.elements=[],x().on("request",function(){return a.watch.apply(a,arguments)})}return a.prototype.watch=function(a){var b,c,d,e;return d=a.type,b=a.request,e=a.url,H(e)?void 0:(c="socket"===d?new m(b):new n(b),this.elements.push(c))},a}(),n=function(){function a(a){var b,c,d,e,f,g,h=this;if(this.progress=0,null!=window.ProgressEvent)for(c=null,a.addEventListener("progress",function(a){return a.lengthComputable?h.progress=100*a.loaded/a.total:h.progress=h.progress+(100-h.progress)/2}),g=["load","abort","timeout","error"],d=0,e=g.length;e>d;d++)b=g[d],a.addEventListener(b,function(){return h.progress=100});else f=a.onreadystatechange,a.onreadystatechange=function(){var b;return 0===(b=a.readyState)||4===b?h.progress=100:3===a.readyState&&(h.progress=50),"function"==typeof f?f.apply(null,arguments):void 0}}return a}(),m=function(){function a(a){var b,c,d,e,f=this;for(this.progress=0,e=["error","open"],c=0,d=e.length;d>c;c++)b=e[c],a.addEventListener(b,function(){return f.progress=100})}return a}(),d=function(){function a(a){var b,c,d,f;for(null==a&&(a={}),this.elements=[],null==a.selectors&&(a.selectors=[]),f=a.selectors,c=0,d=f.length;d>c;c++)b=f[c],this.elements.push(new e(b))}return a}(),e=function(){function a(a){this.selector=a,this.progress=0,this.check()}return a.prototype.check=function(){var a=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return a.check()},C.elements.checkInterval)},a.prototype.done=function(){return this.progress=100},a}(),c=function(){function a(){var a,b,c=this;this.progress=null!=(b=this.states[document.readyState])?b:100,a=document.onreadystatechange,document.onreadystatechange=function(){return null!=c.states[document.readyState]&&(c.progress=c.states[document.readyState]),"function"==typeof a?a.apply(null,arguments):void 0}}return a.prototype.states={loading:0,interactive:50,complete:100},a}(),f=function(){function a(){var a,b,c,d,e,f=this;this.progress=0,a=0,e=[],d=0,c=B(),b=setInterval(function(){var g;return g=B()-c-50,c=B(),e.push(g),e.length>C.eventLag.sampleCount&&e.shift(),a=p(e),++d>=C.eventLag.minSamples&&a<C.eventLag.lagThreshold?(f.progress=100,clearInterval(b)):f.progress=100*(3/(a+3))},50)}return a}(),l=function(){function a(a){this.source=a,this.last=this.sinceLastUpdate=0,this.rate=C.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=E(this.source,"progress"))}return a.prototype.tick=function(a,b){var c;return null==b&&(b=E(this.source,"progress")),b>=100&&(this.done=!0),b===this.last?this.sinceLastUpdate+=a:(this.sinceLastUpdate&&(this.rate=(b-this.last)/this.sinceLastUpdate),this.catchup=(b-this.progress)/C.catchupTime,this.sinceLastUpdate=0,this.last=b),b>this.progress&&(this.progress+=this.catchup*a),c=1-Math.pow(this.progress/100,C.easeFactor),this.progress+=c*this.rate*a,this.progress=Math.min(this.lastProgress+C.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},a}(),K=null,G=null,q=null,L=null,o=null,r=null,Pace.running=!1,y=function(){return C.restartOnPushState?Pace.restart():void 0},null!=window.history.pushState&&(S=window.history.pushState,window.history.pushState=function(){return y(),S.apply(window.history,arguments)}),null!=window.history.replaceState&&(V=window.history.replaceState,window.history.replaceState=function(){return y(),V.apply(window.history,arguments)}),k={ajax:a,elements:d,document:c,eventLag:f},(A=function(){var a,c,d,e,f,g,h,i;for(Pace.sources=K=[],g=["ajax","elements","document","eventLag"],c=0,e=g.length;e>c;c++)a=g[c],C[a]!==!1&&K.push(new k[a](C[a]));for(i=null!=(h=C.extraSources)?h:[],d=0,f=i.length;f>d;d++)J=i[d],K.push(new J(C));return Pace.bar=q=new b,G=[],L=new l})(),Pace.stop=function(){return Pace.trigger("stop"),Pace.running=!1,q.destroy(),r=!0,null!=o&&("function"==typeof s&&s(o),o=null),A()},Pace.restart=function(){return Pace.trigger("restart"),Pace.stop(),Pace.start()},Pace.go=function(){var a;return Pace.running=!0,q.render(),a=B(),r=!1,o=F(function(b,c){var d,e,f,g,h,i,j,k,m,n,o,p,s,t,u,v;for(k=100-q.progress,e=o=0,f=!0,i=p=0,t=K.length;t>p;i=++p)for(J=K[i],n=null!=G[i]?G[i]:G[i]=[],h=null!=(v=J.elements)?v:[J],j=s=0,u=h.length;u>s;j=++s)g=h[j],m=null!=n[j]?n[j]:n[j]=new l(g),f&=m.done,m.done||(e++,o+=m.tick(b));return d=o/e,q.update(L.tick(b,d)),q.done()||f||r?(q.update(100),Pace.trigger("done"),setTimeout(function(){return q.finish(),Pace.running=!1,Pace.trigger("hide")},Math.max(C.ghostTime,Math.max(C.minTime-(B()-a),0)))):c()})},Pace.start=function(a){u(C,a),Pace.running=!0;try{q.render()}catch(b){i=b}return document.querySelector(".pace")?(Pace.trigger("start"),Pace.go()):setTimeout(Pace.start,50)},"function"==typeof define&&define.amd?define(function(){return Pace}):"object"==typeof exports?module.exports=Pace:C.startOnPageLoad&&Pace.start()}.call(this);var __DEBUG=!0;!function(a,b,c,d,e,f,g){a.GoogleAnalyticsObject=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=1*new Date,f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=1,f.src=d,g.parentNode.insertBefore(f,g)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-15745482-3","auto"),ga("send","pageview");var adjustBounceRate=setInterval(function(){ga("send","event","top","top","top")},3e4);if(setTimeout(function(){clearInterval(adjustBounceRate)},18e5),Array.prototype.forEach||(Array.prototype.forEach=function(a,b){for(var c=0,d=this.length;d>c;++c)c in this&&a.call(b,this[c],c,this)}),Function.prototype.bind=Function.prototype.bind||function(){var a=this,b=Array.prototype.slice.call(arguments),c=b.shift();return function(){return a.apply(c,b.concat(Array.prototype.slice.call(arguments)))}},Array.prototype.has=function(a){return $.inArray(a,this)>-1},Array.prototype.omit=function(a){var b=[];a=a||["",null,void 0],a=$.isArray(a)?a:[a];for(var c=0;c<this.length;c++)a.has(this[c])||b.push(this[c]);return b},Array.prototype.remove=function(a,b){var c=this.slice((b||a)+1||this.length);return this.length=0>a?this.length+a:a,this.push.apply(this,c)},Number.prototype.format=function(a){return this.toString().format(a)},Number.prototype.valueIfZero=function(a){var b=this.valueOf();return 0===b?void 0===a?"":a:b},String.prototype.apply=function(){var a=arguments;return this.replace(/\{(\d+)\}/g,function(b,c){return a[c-1]})},String.prototype.chop=function(a,b){for(var c=this.split(" "),d=Math.ceil(c.length/a||1),e=[];c.length;)e.push(c.splice(0,d).join(" "));return e.join(b||"<br/>")},String.prototype.format=function(a){for(var b=this.split("."),c=/(\d+)(\d{3})/,d=b[0];c.test(d);)d=d.replace(c,"$1,$2");return(a?d.replace(/,/g,"."):d)+(b.length>1?(a?",":".")+b[1]:"")},String.prototype.includes=function(a){for(var b=this.toString(),c=0;c<a.length;c++)if(b===a[c])return!0;return!1},String.prototype.reverse=function(){return this.split("").reverse().join("")},String.prototype.trim=function(){return $.trim(this)},String.prototype.valueIfZero=function(a){var b=this.toString();return"0"===b?void 0===a?"":a:b},Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){if(void 0===this||null===this)throw new TypeError('"this" is null or not defined');var c=this.length>>>0;for(b=+b||0,Math.abs(b)===1/0&&(b=0),0>b&&(b+=c,0>b&&(b=0));c>b;b++)if(this[b]===a)return b;return-1}),window.console&&Function.prototype.bind&&console&&"object"==typeof console.log&&["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach(function(a){console[a]=this.bind(console[a],console)},Function.prototype.call),window.log=function(){log.history=log.history||[],log.history.push(arguments),this.console&&__DEBUG&&console.log(Array.prototype.slice.call(arguments))},function(){var a={};window.self.SETCONST=function(b,c){if("string"!=typeof b)throw new Error("constant name is not a string");if(c){if(b in a)throw new Error("constant "+b+" is already defined");return a[b]=c,!0}throw new Error(" no value supplied for constant "+b)},window.self.CONST=function(b){if("string"!=typeof b)throw new Error("constant name is not a string");if(b in a)return a[b];throw new Error("constant "+b+" has not been defined")}}(),Object.size=function(a){var b,c=0;for(b in a)a.hasOwnProperty(b)&&c++;return c},function(a,b,c){function d(){}function e(a){var c="",d='<li><a href="#" id="day-{2}" class="btn-day">{3}</a></li>';if(a.length>0)for(var e=0;e<a.length;e++){var f=a[e];if(f){var g=""+f.day;f.day<10&&(g="0"+f.day);var h=d.apply("",f.day,g);c+=h}}c&&b("#day-select-menu").html(c)}function f(b,c,d,e,f,i,j){var k={},l='<div class="col-md-12"><a href="http://thebibleproject.tumblr.com/readscripture"><img src="gfxs/bibleIcons/tbp{1}.png" class="img img-responsive"></a><h4><small>Chapter {2}</small><br/><strong><span class="text-uppercase">{3}</span></strong></h4><hr></div><div class="col-md-12"><h4>{4} Day <strong>{5}</strong> of 365 {6}</h4><ul>{7}</ul></div>',m='<li class="text-capitalize">{1}{2}</li><li class="text-capitalize">{3}{4}</li>{5}',n='<li class="text-capitalize">{1}<a href="{2}">{3}</a></li>',o="",p="";if(isNotNullOrEmpty(b)){log(b);var q="",r="";isNotNullOrEmpty(i)&&isNotNullOrEmpty(j)&&(q=n.apply("<strong>Watch</strong> ",j,i),r=n.apply("",'#" class="btn-video','<i class="fa fa-film"></i> '+i));var s="",t="";(isNotNullOrEmpty(e)||isNotNullOrEmpty(f))&&(s=m.apply("<strong>Read</strong> ",e,"<strong>Meditate</strong> ",f,q),t=m.apply('<a href="#" class="btn-read"><i class="fa fa-book"></i> ',e+"</a>",'<a href="#" class="btn-meditate"><i class="fa fa-puzzle-piece"></i> ',f,r));var u=a.getCurrentParams();o=l.apply(c,c,d,h(b,u.version),b,g(b,u.version),s),p+=t,k.panel=o,k.list=p}return k}function g(b,c){var d="",e="#",f='<a href="{1}" {2}><span class="glyphicon glyphicon-chevron-right"></span></a>',g=Number(b);return 365>g&&g>=0?(g+=1,e=a.buildHash(g,c,!0),d=f.apply(e,"")):d='<span class="text-muted glyphicon glyphicon-chevron-right"></span>',d}function h(b,c){var d="",e="#",f='<a href="{1}" {2}><span class="glyphicon glyphicon-chevron-left"></span></a>',g=Number(b);return g>1&&365>g?(g-=1,e=a.buildHash(g,c,!0),d=f.apply(e,"")):d='<span class="text-muted glyphicon glyphicon-chevron-left"></span>',d}function i(a,b){var c='<h1>{1}</h1><hr><br/><iframe width="560" height="315" src="{2}" frameborder="0" allowfullscreen></iframe>',d="<h1>Watch</h1><hr><br/><p>No video today</p>";return isNotNullOrEmpty(a)&&isNotNullOrEmpty(b)&&(d=c.apply(a,b)),d}function j(c,d){var e=b("#display-current-hash"),f="Day {1}",g=f.apply(c);e.html(g),e.attr("href",a.buildHash(c,d,!0)),b("#day-btn-group").html(g)}function k(a){var c="version-{1}",d=c.apply(a),e="";b(".btn-version").each(function(a){var c=b(this);c.hasClass("active")&&c.removeClass("active"),c.attr("id")===d&&(e=c.html(),c.addClass("active"))}),b("#display-current-version").html(e),b("#version-btn-group").html(e)}var l,m=[];a.route=function(a){l.setRoute(a)},a.readExecuteHash=function(b,c){log("readExecute: "+b+" "+c),a.selectDay(b,c)},a.buildHash=function(a,b,c){var d="/#/{1}/{2}",e="/{1}/{2}",f="",g=Number(a),h=Number(b),i=1;isNotNullOrEmpty(""+a)&&g>0&&365>=g&&(i=a);var j=1;return isNotNullOrEmpty(b)&&h>0&&3>h&&(j=b),f=c?d.apply(i,j):e.apply(i,j)};var n={"/:day/:version":a.readExecuteHash};a.initRoute=function(){l=new Router(n).configure({strict:!1}),l.init()},a.route=function(a){l.setRoute(a)},a.constructParams=function(a,b){var c={};return c.query=a,c.version=b,c},a.performSearch=function(a,c){var e="",f="";2===a?(e="/BiblesOrgServiceProvider.php",f=b("#meditation-content")):(e="/BiblesOrgServiceProvider.php",f=b("#reading-content"));b.ajax({url:e,cache:!1,data:c}).done(function(a,b,c){200===c.status?f.html(a):log(a)}).fail(function(a,b,c){log("fail")}).always(function(a,b,c){d()})},a.buildPlan=function(a){var c="js/plan_tbp.json";b.ajax({url:c,cache:!1}).done(function(a,b,c){if(200===c.status){var d=JSON.parse(a);if(d.length>0){m=[];for(var f=0;f<d.length;f++){var g=d[f];if(isNotNullOrEmpty(g)){var h=""+g.day;m[h]=g}}e(m),log("build the plan with: "+m.length)}else log("no plan results")}else log(a)}).fail(function(a,b,c){log("fail")}).always(function(b,c,d){a()})},a.selectDay=function(c,d){if(m.length<0)a.buildPlan(a.selectDay(c,d));else{var g=m[c];if(e(m,g),isNotNullOrEmpty(g)){var h=f(""+g.day,""+g.chapter,g.title,g.read,g.meditation,g.video,g.videoUrl);isNotNullOrEmpty(h)&&(b("#bookmark-content").html(h.panel),b("#today_plan-list").html(h.list));var l=a.constructParams(g.read,d),n=a.constructParams(g.meditation,d);a.performSearch(1,l),a.performSearch(2,n),b("#video-content").html(i(g.video,g.videoUrl)),a.setCurrentParams(c,d,g.read,g.meditation,g.video),j(c,d),k(d),this.activateRead()}}},a.getCurrentParams=function(){var a=b("#current-day").val(),c=b("#current-version").val(),d=b("#current-read").val(),e=b("#current-meditate").val(),f=b("#current-video").val(),g={};return g.day=a,g.version=c,g.read=d,g.pray=e,g.video=f,g},a.setCurrentParams=function(a,c,d,e,f){isNotNullOrEmpty(a)&&b("#current-day").val(a),isNotNullOrEmpty(c)&&b("#current-version").val(c),isNotNullOrEmpty(d)&&b("#current-read").val(d),isNotNullOrEmpty(e)&&b("#current-meditate").val(e),b("#current-video").val(f)},a.activateRead=function(){
b('#main-tabs a[href="#reading"]').tab("show"),b("#today_plan-span").html(a.getCurrentParams().read)},a.activateMeditate=function(){b('#main-tabs a[href="#meditation"]').tab("show"),b("#today_plan-span").html(a.getCurrentParams().pray)},a.activateVideo=function(){b('#main-tabs a[href="#video"]').tab("show"),b("#today_plan-span").html(a.getCurrentParams().video)},a.showStatusAlert=function(a,c,d){if(isNotNullOrEmpty(a)){var e=b("#status-alert"),f="<p><strong>{1}</strong> {2}</p>";if(e.removeClass(),e.addClass("alert"),isNotNullOrEmpty(d))switch(d){case 1:e.addClass("alert-info");break;case 2:e.addClass("alert-warning");break;case 0:e.addClass("alert-success");break;case 3:default:e.addClass("alert-danger")}else e.addClass("alert-danger");e.html(f.apply(c,a)),e.show()}},a.toggleSearchAlert=function(a){b("#biblehelper-search-alert").toggle(a)}}(window.biblehelper=window.biblehelper||{},$),$(document).ready(function(){biblehelper.buildPlan(biblehelper.initRoute),$(document).on("click",".btn-version",function(a){var b=$(this).attr("id"),c=extractKey(b,1);if(c){var d=biblehelper.getCurrentParams(),e=biblehelper.buildHash(d.day,c,!1);biblehelper.route(e)}return $("#version-select").dropdown("toggle"),!1}),$(document).on("click",".btn-day",function(a){var b=$(this).attr("id"),c=extractKey(b,1);if(c){var d=biblehelper.getCurrentParams(),e=biblehelper.buildHash(c,d.version,!1);biblehelper.route(e)}return $("#day-select").dropdown("toggle"),!1}),$(document).on("click",".btn-read",function(a){return biblehelper.activateRead(),!1}),$(document).on("click",".btn-meditate",function(a){return biblehelper.activateMeditate(),!1}),$(document).on("click",".btn-video",function(a){return biblehelper.activateVideo(),!1})}),navigator.userAgent.match(/IEMobile\/10\.0/)){var msViewportStyle=document.createElement("style");msViewportStyle.appendChild(document.createTextNode("@-ms-viewport{width:auto!important}")),document.getElementsByTagName("head")[0].appendChild(msViewportStyle)}